# Code Book

## Data Source

The data used for this assignment comes from the UCI Machine Learning Repository data set named "Human Activity Recognition Using Smartphones Data Set".  Documentation for source data set:
http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#

## The source data is read into data frames as follows

Data Frame              | Source data
------------------------|--------------------------------------------
*tests*             | 'test/X_test.txt': Test set.
*tests.activities*  | 'test/y_test.txt': Test labels.
*tests.subjects*    | 'test/subject_test.txt': Each row identifies the subject who performed the activity for each window sample. Its range is from 1 to 30.
*training*          | 'train/X_train.txt': Training set.
*training.activities* | 'train/y_train.txt': Training labels.
*training.subjects* | 'train/subject_train.txt': Each row identifies the subject who performed the activity for each window sample. Its range is from 1 to 30.
*features*          | 'features.txt': List of all features.
*activity.labels*   | 'activity_labels.txt': Links the class labels with their activity name.

## Manipulation and Analysis

The run_analysis.R script performs a series of transformations on the above data, via a series of **intermediate data frames**, as follows:

#### _full.dataset_
This data frame is generated by (1) appending the subject id and activity id data columns to their associated training or test data frame, (2) creating a phase column to distinguish between training and test data, and (3) merging rows of the training and test data.

#### _selected.features_
This data frame is a subset of *features* containing only the measurements on the mean and standard deviation.

The assignment requirements leave open to interpretation what is meant by "containing means and standard deviation measurements". I decided to include measurements of weighted arithmetic mean (such as fBodyAcc-meanFreq()-X) as well as ordinary arithmetic mean (such as tBodyAcc-mean()-X), and additionally included measurements of angles between mean vectors (such as angle(X,gravityMean)).

#### _mean.std.data_
This data frame is a subset of *full.dataset* containing those columns corresponding to the *selected.features*, in other words, measurements relating to mean and standard deviation as described above.

Descriptive activity names "WALKING", "SITTING", etc were read from *activity.labels* and applied to *mean.std.data*.  The "plyr" library was used to join *mean.std.data* to *activity.labels* by a common 'activity.id' column.  I dropped the 'activity.id' column from *mean.std.data* as it contains no addiontal meaning (to the descriptive activity names) and is redundant.

The data set is labelled with appropriate variable names.  I use "phase", "subject.id", "activity.name" for the columns containing experimental parameters. The measurement column names are derived names from the source data set.  The source data set feature identifiers are quite expressive, however they do not conform to acceptable R variable naming convention. Google's R Style Guide recommends identifiers should be lower case letters separated by periods with all hyphens removed.  For example, "angle(X,gravityMean)" becomes "angle.x.gravity.mean".  This is the naming convention I have followed.

In accordance with tidy data principles (taught in the https://www.coursera.org/course/datascitoolbox data science course), each variable measured has it's own column, and each observation is on a separate row.  The combination of test and training data in a single table is also appropriate because they contain the same kind of measurements.

#### _mean.std.avgs_
This is an independent tidy data set derived from mean.std.data by taking the average of each variable for each activity and each subject.  The phase column is dropped because test and training data are not distinguished.  Each of the measurement columns is prefixed with 'avg.' to indicate average.

The "dplyr" library was used to store this data frame as a "tibble" to simplify grouping, summary and display.

This tibble carries over the tidy data principles from *mean.std.data*, such as appropriately labelled variable names and each variable measured having itâ€™s own column (described above in *mean.std.data*).



